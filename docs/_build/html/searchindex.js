Search.setIndex({"docnames": ["README", "app", "index", "installation", "module_reference", "task_reference", "user_guide", "workflow_manager"], "filenames": ["README.rst", "app.rst", "index.rst", "installation.rst", "module_reference.rst", "task_reference.rst", "user_guide.rst", "workflow_manager.rst"], "titles": ["Lung Modelling", "Workflow App", "Lung Modelling", "Installation", "Module Reference", "Task Reference", "User Guide", "Workflow Manager"], "terms": {"i": [0, 1, 2, 4, 5], "python": [0, 1, 2, 4], "packag": [0, 1, 2, 3, 6], "provid": [0, 1, 2, 4, 5, 6], "tool": [0, 2], "run": [0, 2, 4, 5, 6], "statist": [0, 2, 3, 6], "shape": [0, 2, 3, 5, 6], "analysi": [0, 2, 6], "workflow": [0, 2, 3, 4, 6], "imag": [0, 1, 2, 5], "dataset": [0, 2, 4, 5], "The": [0, 1, 2, 4, 5, 6], "core": [0, 1, 2], "function": [0, 1, 2, 4, 5], "shapework": [0, 1, 2, 3], "full": [0, 2], "document": [0, 1, 2, 4, 5], "can": [0, 1, 2, 3, 4, 5], "found": [0, 2, 5], "github": [0, 1, 2, 3], "page": [0, 2], "sourc": [0, 2, 4, 5, 7], "code": [0, 2, 7], "command": [0, 1, 2, 5, 6], "line": [0, 1, 2, 6], "app": [0, 2, 3, 5, 6], "an": [0, 1, 2, 3, 4, 5, 6, 7], "autom": [0, 2, 6], "configur": [0, 2, 4, 5], "manag": [0, 2, 4, 6], "power": [0, 2], "hydra": [0, 1, 2], "log": [0, 2, 4, 5], "data": [0, 1, 2, 4, 5], "proven": [0, 2], "simpl": [0, 2], "orchestr": [0, 2], "workflowmanag": [0, 2, 4, 5], "which": [0, 1, 2, 4, 5], "interfac": [0, 2, 4, 5, 6], "ad": [0, 1, 2, 4, 5], "new": [0, 2, 4, 6], "task": [0, 1, 2, 3, 4, 6], "librari": [0, 2, 5], "mesh": [0, 2, 5], "preprocess": [0, 2], "To": [1, 3, 5], "us": [1, 3, 4, 5, 7], "first": [1, 3, 4, 5], "instal": 1, "lung": [1, 4, 5, 6], "model": [1, 3, 4, 5, 6], "see": [1, 3, 6, 7], "instruct": 1, "onc": [1, 3, 4, 5], "initi": [1, 4, 5], "user": 1, "edit": [1, 3], "m": 1, "lung_model": [1, 3, 4, 5], "initialize_user_configur": 1, "true": [1, 4, 5], "thi": [1, 3, 4, 5, 7], "should": [1, 4, 5], "creat": [1, 4, 5, 6], "folder": [1, 4, 5], "name": [1, 4, 5], "user_config": 1, "your": 1, "work": [1, 4, 5], "directori": [1, 4, 5], "config": [1, 4, 5], "contain": [1, 5], "yaml": 1, "file": [1, 4, 5], "all": [1, 4, 5], "paramet": [1, 3, 4, 5], "exist": [1, 3], "detail": 1, "inform": 1, "how": [1, 3, 7], "test": [1, 4, 5], "download": 1, "unzip": 1, "tar": 1, "xf": 1, "covid_lung_segment": 1, "zip": 1, "batch": 1, "set": [1, 4, 5], "example_workflow": 1, "bring": 1, "up": [1, 5], "select": [1, 4, 5], "dialog": 1, "covid_lung_lobe_segment": 1, "worfkflow": [], "requir": [1, 3, 4, 5], "specif": [1, 4, 5], "structur": [1, 4, 5], "follow": [1, 3, 5], "dataset_nam": 1, "dataset_config": [1, 4, 5], "json": 1, "primari": [1, 4, 5], "subject_directory_1": 1, "subject_data": 1, "nii": [1, 5], "deriv": [1, 4, 5], "raw_mesh": 1, "lobe_1": 1, "stl": 1, "A": [1, 4, 5], "top": [1, 5], "level": [1, 5], "ha": [1, 6], "sub": 1, "store": [1, 4], "separ": [1, 5], "individu": [1, 5], "subject": [1, 4, 5], "gener": [1, 5], "place": [1, 5], "mirror": 1, "ani": [1, 4, 5], "number": [1, 5], "befor": [1, 4, 5], "along": [1, 5], "about": 1, "must": [1, 3], "specifi": [1, 4, 5], "primary_directori": 1, "derivative_directori": 1, "directory_index_glob": 1, "directory_index": 1, "csv": 1, "data_folder_depth": [1, 4], "2": 1, "lung_image_glob": 1, "lobe_map": 1, "rul": 1, "3": 1, "rml": 1, "4": 1, "rll": 1, "5": 1, "lul": 1, "1": 1, "lll": 1, "refer": 1, "hold": 1, "glob": [1, 4, 5], "find": [1, 4, 5], "pre": [1, 4, 5], "built": 1, "index": [1, 4, 5], "between": [1, 4, 5], "valu": [1, 5], "indic": [1, 4, 5], "each": [1, 4, 5, 6], "lobe": [1, 5], "featur": 3, "you": 3, "websit": 3, "guid": 3, "do": [1, 3], "have": [3, 5], "activ": 3, "conda": 3, "shapwork": 3, "fresh": 3, "venv": 3, "clone": [1, 3], "git": 3, "repositori": [1, 3, 4], "http": [3, 4], "com": 3, "acreegan": 3, "cd": 3, "dev": 3, "mode": [1, 3], "pip": 3, "e": [1, 3], "If": [1, 3, 4, 5], "just": 3, "want": [3, 5], "still": 3, "modifi": [3, 4, 5], "simpli": 3, "class": [1, 4, 5], "smoothlunglob": [], "properti": [], "implement": [1, 4, 5], "match": [4, 5], "its": 5, "task_config": [4, 5], "static": [4, 5], "source_directory_primari": [4, 5], "source_directory_deriv": [4, 5], "output_directori": [4, 5], "process": [4, 5], "segment": 5, "extract": 5, "label": [1, 5], "appli": [4, 5], "antialias": 5, "path": [4, 5], "absolut": [4, 5], "save": [1, 4, 5], "result": [4, 5], "dictconfig": [4, 5], "relat": [4, 5], "entir": [4, 5], "results_directori": [1, 5], "subdirectori": 5, "output_filenam": [1, 5], "dict": [4, 5], "map": 5, "from": [1, 4, 5], "output": [1, 4, 5], "filenam": [4, 5], "param": [1, 4, 5], "maximumrmserror": [1, 5], "numberofiter": [1, 5], "simpleitk": 5, "antialiasbinari": 5, "return": [4, 5], "smoothed_fil": 5, "list": [1, 4, 5], "object": [4, 5], "repres": [4, 5], "type": [4, 5], "smoothwholelung": [], "whole": [4, 5], "umberofiter": 5, "createmesh": 5, "convert": [4, 5], "medic": 5, "smooth": [1, 5], "source_directori": [1, 5], "within": 5, "n_iter": 5, "feature_smooth": 5, "edge_angl": 5, "feature_angl": 5, "relaxation_factor": 5, "pyvista": 5, "target_reduct": 5, "volume_preserv": [1, 5], "decim": [1, 5], "hole_s": [1, 5], "fill_hol": [1, 5], "fix_mesh": 5, "option": [4, 5], "fix": 5, "mesh_fil": 5, "shapeworks_task": 5, "smoothlunglobessw": 5, "smoothed_lob": 5, "createmeshessw": [1, 5], "remesh": [1, 5], "remesh_percentag": [], "adapt": [1, 5], "smooth_iter": [1, 5], "relax": [1, 5], "fill": 5, "hole": 5, "nad": [], "It": [1, 4, 5, 6], "also": [1, 5, 6], "util": 6, "below": [1, 6], "workflow_manag": 5, "dataset_root": [1, 4, 5], "show_progress": [4, 5], "when": [1, 4, 5], "run_workflow": [1, 4, 5, 7], "call": [1, 4, 5], "load": [4, 5], "gather_directori": [4, 5], "gather": [4, 5], "act": [4, 5], "root": [1, 4, 5], "dataset_config_filenam": [1, 4, 5], "directli": [4, 5], "insid": [4, 5], "use_directory_index": [1, 4, 5], "build": [4, 5], "instead": [4, 5], "iter": [1, 4, 5], "through": [4, 5], "o": [4, 5], "walk": [4, 5], "skip_dir": [1, 4, 5], "string": [1, 4, 5], "skip": [4, 5], "rel": [4, 5], "so": [4, 5], "slash": [4, 5], "includ": [1, 4, 5], "depth": [1, 4, 5], "take": [4, 5], "preced": [4, 5], "over": [4, 5], "select_dir": [1, 4, 5], "empti": [4, 5], "valid": [4, 5], "ar": [1, 4, 5], "onli": [4, 5], "one": [4, 5], "show": [4, 5], "progress": [4, 5], "dataloc": [4, 5], "datasetloc": [4, 5], "datasetconfig": [4, 5], "dirs_list": [4, 5], "record": [4, 5], "tupl": [4, 5], "log_workflow": [4, 5], "cfg": [4, 5], "task_nam": [4, 5], "after": [4, 5], "complet": [1, 4, 5], "locat": [4, 5], "No": [4, 5], "current": [4, 5], "eachitemtask": [1, 4, 5], "item": [1, 4, 5], "abstract": 4, "fo": 4, "defin": 4, "done": 4, "attempt": 4, "access": [1, 4, 5], "outsid": 4, "becaus": [4, 5], "parallel": [1, 4], "rel_primari": 4, "rel_deriv": 4, "helper": 4, "sparc": [1, 4], "exception_monitor": 4, "func": 4, "callback": 4, "logger": 4, "decor": 4, "catch": 4, "except": 4, "multiprocess": [1, 4, 5], "wrap": 4, "occur": 4, "loguru": [1, 4], "need": [1, 4, 5], "args_unpack": 4, "unpack": 4, "argument": 4, "method": [4, 5], "imap": 4, "apply_to_dataset": 4, "callabl": [], "get_unique_file_nam": 4, "get": [4, 5], "uniqu": [4, 5], "addit": 4, "end": 4, "origin": [4, 5], "print_result": 4, "print": 4, "mpool": 4, "none": [4, 5], "fals": [1, 4], "worflow": 4, "consist": 4, "collect": 4, "design": 4, "organ": 4, "doi": 4, "org": 4, "10": [1, 4], "1101": 4, "2021": 4, "02": 4, "430563": 4, "unit": 4, "oper": 4, "tree": 4, "register_task": 4, "add": 5, "other": [], "supporet": [], "execut": [], "write": [], "most": [], "importantli": [], "traceabl": [], "version": 1, "ran": [], "regist": 4, "cannot": 4, "duplic": [4, 5], "pass": [4, 5], "task_list": [], "desir": [], "order": [1, 4], "otherwis": [], "thei": [1, 4, 5], "were": 4, "str": [], "primary_root": 4, "index_list": 4, "construct": 4, "system": [4, 5], "pooled_derivative_directori": 1, "pooled_deriv": 1, "two": [1, 5], "more": 1, "sampl": [], "combin": [1, 5], "singl": [1, 5], "rel_pooled_deriv": 4, "allitemstask": [1, 4, 5], "referenceselectionmesh": 5, "closest": 5, "mean": 5, "antialia": 5, "smoothwholelungssw": 5, "referenceselectionmeshsw": [1, 5], "avoid": [4, 5], "multipl": [4, 5], "simultan": [4, 5], "initialize_result": [4, 5], "apply_initi": 4, "meet": 5, "groom": 5, "parent": 5, "append": 5, "delimit": 5, "dash": 5, "charact": 5, "pyvvista": 5, "andd": 5, "remove_shared_fac": [1, 5], "remov": 5, "face": 5, "isolate_mesh": [1, 5], "island": 5, "leav": 5, "larg": 5, "connect": 5, "region": 5, "use_geodesic_dist": [1, 5], "optim": 5, "essenti": 5, "doe": 5, "wa": [1, 5], "surround": 5, "element": [1, 5], "domain": 5, "meshtransformsw": [1, 5], "point": 5, "pickl": 5, "sent": 5, "source_directory_initi": [1, 5], "reference_mesh": 5, "calcul": 5, "align": 5, "transform": 5, "global": 5, "per": 5, "rigid": 5, "both": [1, 5], "optimizemeshessw": [1, 5], "source_directory_transform": [1, 5], "source_directory_mesh": [], "source_directory_origin": [], "extracttorso": 5, "torso": 5, "dicom": 5, "extens": 5, "threshold": 5, "meshlandmarkscoars": [1, 5], "space": 5, "roughli": 5, "equidistantli": 5, "around": 5, "surfac": 5, "help": 5, "good": 5, "coverag": 5, "without": 5, "lower": 5, "weight": 5, "much": 5, "trace": 5, "rai": 5, "center": 5, "mass": 5, "vertic": 5, "cube": 5, "8": 5, "landmark": 5, "orient": 5, "straight": 5, "down": 5, "These": 5, "same": 5, "form": 5, "particl": 5, "step_siz": [1, 5], "step": 5, "size": 5, "march": 5, "higher": 5, "coarser": 5, "geometri": 5, "prevent": 5, "too": 5, "ram": 5, "decimate_target_fac": [1, 5], "subdivide_pass": [1, 5], "greater": 5, "than": 5, "0": [1, 5], "subdivid": 5, "calcuat": 5, "subdivis": 5, "target": 5, "remesh_target_point": [1, 5], "source_directories_mesh": [1, 5], "source_directories_origin": [1, 5], "rel_pooled_primari": 4, "parsecopdgenesubjectgroup": 5, "pars": 5, "copdgen": 5, "style": 5, "even": 5, "though": 5, "involv": 5, "we": 5, "don": 5, "t": 5, "arrai": 5, "lot": 5, "thread": 5, "long": 5, "subject_data_filenam": 5, "subject_data_dict_filenam": 5, "group": [1, 5], "parsed_data": 5, "selectcopdgenesubjectsbyvalu": 5, "kei": [1, 5], "pair": 5, "AND": 5, "search_valu": 5, "inspectmesh": 5, "displai": 5, "source_directory_subject_data": 5, "project": [1, 5], "image_glob": [1, 5], "computepcasw": 5, "pca": 5, "source_directory_refer": 5, "subjectdatapcacorrelationsw": 5, "correl": 5, "compon": 5, "allitemtask": 5, "intern": 5, "depend": 5, "usag": [], "produc": 1, "optimize_meshes_sw": 1, "own": 1, "wai": 1, "explain": 1, "shown": 1, "pooled_primary_directori": 1, "pooled_primari": 1, "In": 1, "abov": 1, "6": 1, "final": 1, "necessari": 1, "g": 1, "demograph": 1, "dictionari": 1, "mai": 1, "subject_id": 1, "study_phas": 1, "imaging_mod": 1, "resid": 1, "format": 1, "make": 1, "There": 1, "three": 1, "main": 1, "section": 1, "run_task": 1, "null": 1, "log_level": 1, "info": 1, "use_multiprocess": 1, "smooth_whole_lungs_sw": 1, "left_lung": 1, "right_lung": 1, "009999999776482582": 1, "30": 1, "create_meshes_sw": 1, "create_meshes_whole_lungs_sw": 1, "pad": 1, "100000": 1, "40000": 1, "100": 1, "reference_selection_mesh_sw": 1, "reference_selection_mesh_whole_lungs_sw": 1, "mesh_transform_sw": 1, "mesh_landmarks_lung": 1, "mesh_landmarks_coarse_lung": 1, "source_directories_landmark": 1, "checkpointing_interv": 1, "200": 1, "keep_checkpoint": 1, "iterations_per_split": 1, "2000": 1, "optimization_iter": 1, "starting_regular": 1, "ending_regular": 1, "relative_weight": 1, "initial_relative_weight": 1, "03": 1, "save_init_split": 1, "verbos": 1, "use_norm": 1, "normals_strength": 1, "procrust": 1, "procrustes_sc": 1, "procrustes_rotation_transl": 1, "number_of_particl": 1, "128": 1, "use_landmark": 1, "datset_root": 1, "overwritten": 1, "flag": 1, "turn": 1, "off": 1, "entri": 1, "remain": 1, "input": 1, "effect": 1, "enforc": 1, "alwai": 1, "last": 1, "setuptool": 1, "scm": 1, "date": 1, "unedit": 1, "allow": 1, "identif": 1, "commit": 1, "dure": 1, "extractlunglob": 5, "stem": 5, "extractwholelung": 5, "py": 7, "exampl": 7, "modul": 7, "extract_whole_lungs_sw": 1, "extractwholelungssw": 1}, "objects": {"lung_modelling.app": [[5, 0, 0, "-", "shapeworks_tasks"], [5, 0, 0, "-", "tasks"]], "lung_modelling.app.shapeworks_tasks": [[5, 1, 1, "", "ComputePCASW"], [5, 1, 1, "", "CreateMeshesSW"], [5, 1, 1, "", "MeshTransformSW"], [5, 1, 1, "", "OptimizeMeshesSW"], [5, 1, 1, "", "ReferenceSelectionMeshSW"], [5, 1, 1, "", "SmoothLungLobesSW"], [5, 1, 1, "", "SmoothWholeLungsSW"], [5, 1, 1, "", "SubjectDataPCACorrelationSW"]], "lung_modelling.app.shapeworks_tasks.ComputePCASW": [[5, 2, 1, "", "work"]], "lung_modelling.app.shapeworks_tasks.CreateMeshesSW": [[5, 2, 1, "", "initialize"], [5, 2, 1, "", "work"]], "lung_modelling.app.shapeworks_tasks.MeshTransformSW": [[5, 2, 1, "", "initialize"], [5, 2, 1, "", "work"]], "lung_modelling.app.shapeworks_tasks.OptimizeMeshesSW": [[5, 2, 1, "", "work"]], "lung_modelling.app.shapeworks_tasks.ReferenceSelectionMeshSW": [[5, 2, 1, "", "work"]], "lung_modelling.app.shapeworks_tasks.SmoothLungLobesSW": [[5, 2, 1, "", "initialize"], [5, 2, 1, "", "work"]], "lung_modelling.app.shapeworks_tasks.SmoothWholeLungsSW": [[5, 2, 1, "", "initialize"], [5, 2, 1, "", "work"]], "lung_modelling.app.shapeworks_tasks.SubjectDataPCACorrelationSW": [[5, 2, 1, "", "work"]], "lung_modelling.app.tasks": [[5, 1, 1, "", "CreateMeshes"], [5, 1, 1, "", "ExtractLungLobes"], [5, 1, 1, "", "ExtractTorso"], [5, 1, 1, "", "ExtractWholeLungs"], [5, 1, 1, "", "InspectMeshes"], [5, 1, 1, "", "MeshLandmarksCoarse"], [5, 1, 1, "", "ParseCOPDGeneSubjectGroups"], [5, 1, 1, "", "ReferenceSelectionMesh"], [5, 1, 1, "", "SelectCOPDGeneSubjectsByValue"]], "lung_modelling.app.tasks.CreateMeshes": [[5, 2, 1, "", "initialize"], [5, 2, 1, "", "work"]], "lung_modelling.app.tasks.ExtractLungLobes": [[5, 2, 1, "", "initialize"], [5, 2, 1, "", "work"]], "lung_modelling.app.tasks.ExtractTorso": [[5, 2, 1, "", "initialize"], [5, 2, 1, "", "work"]], "lung_modelling.app.tasks.ExtractWholeLungs": [[5, 2, 1, "", "initialize"], [5, 2, 1, "", "work"]], "lung_modelling.app.tasks.InspectMeshes": [[5, 2, 1, "", "work"]], "lung_modelling.app.tasks.MeshLandmarksCoarse": [[5, 2, 1, "", "initialize"], [5, 2, 1, "", "work"]], "lung_modelling.app.tasks.ParseCOPDGeneSubjectGroups": [[5, 2, 1, "", "work"]], "lung_modelling.app.tasks.ReferenceSelectionMesh": [[5, 2, 1, "", "work"]], "lung_modelling.app.tasks.SelectCOPDGeneSubjectsByValue": [[5, 2, 1, "", "work"]], "lung_modelling": [[4, 0, 0, "-", "workflow_manager"]], "lung_modelling.workflow_manager": [[4, 1, 1, "", "AllItemsTask"], [4, 1, 1, "", "DatasetLocator"], [4, 1, 1, "", "EachItemTask"], [4, 1, 1, "", "WorkflowManager"], [4, 3, 1, "", "args_unpacker"], [4, 3, 1, "", "exception_monitor"], [4, 3, 1, "", "gather_directories"], [4, 3, 1, "", "get_unique_file_name"], [4, 3, 1, "", "initialize"], [4, 3, 1, "", "log_workflow"], [4, 3, 1, "", "print_results"]], "lung_modelling.workflow_manager.AllItemsTask": [[4, 2, 1, "", "apply_to_dataset"], [4, 2, 1, "", "work"]], "lung_modelling.workflow_manager.EachItemTask": [[4, 2, 1, "", "apply_initialize"], [4, 2, 1, "", "apply_to_dataset"], [4, 2, 1, "", "initialize"], [4, 2, 1, "", "work"]], "lung_modelling.workflow_manager.WorkflowManager": [[4, 2, 1, "", "register_task"], [4, 2, 1, "", "run_workflow"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "function", "Python function"]}, "titleterms": {"lung": [0, 2], "model": [0, 2], "featur": [0, 2], "workflow": [1, 5, 7], "app": 1, "usag": [], "setup": 1, "run": 1, "exampl": 1, "dataset": 1, "configur": 1, "instal": 3, "develop": 3, "environ": 3, "user": [3, 6], "modul": 4, "refer": [4, 5], "task": 5, "standard": 5, "shapework": 5, "guid": 6, "manag": [5, 7], "workflow_manag": 4, "level": [], "three": [], "threee": [], "log": 1}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "sphinx": 60}, "alltitles": {"Lung Modelling": [[0, "lung-modelling"], [2, "lung-modelling"]], "Features": [[0, "features"], [2, "features"]], "Installation": [[3, "installation"]], "Developer Environment": [[3, "developer-environment"]], "User Installation": [[3, "user-installation"]], "User Guide": [[6, "user-guide"]], "Module Reference": [[4, "module-reference"]], "workflow_manager": [[4, "module-lung_modelling.workflow_manager"]], "Task Reference": [[5, "task-reference"]], "Workflow Manager Tasks": [[5, "workflow-manager-tasks"]], "Standard Tasks": [[5, "standard-tasks"]], "Shapeworks Tasks": [[5, "shapeworks-tasks"]], "Workflow Manager": [[7, "workflow-manager"]], "Workflow App": [[1, "workflow-app"]], "Setup": [[1, "setup"]], "Running Example Workflow": [[1, "running-example-workflow"]], "Dataset Configuration": [[1, "dataset-configuration"]], "Workflow Configuration": [[1, "workflow-configuration"]], "Workflow Run Logs": [[1, "workflow-run-logs"]]}, "indexentries": {}})