Search.setIndex({"docnames": ["README", "app", "index", "installation", "module_reference", "task_reference", "user_guide", "workflow_manager"], "filenames": ["README.rst", "app.rst", "index.rst", "installation.rst", "module_reference.rst", "task_reference.rst", "user_guide.rst", "workflow_manager.rst"], "titles": ["Lung Modelling", "Workflow App", "Lung Modelling", "Installation", "Module Reference", "Task Reference", "User Guide", "Workflow Manager"], "terms": {"i": [0, 1, 2, 4, 5], "python": [0, 1, 2], "packag": [0, 1, 2, 3, 6], "provid": [0, 2, 4, 5, 6], "tool": [0, 2], "run": [0, 2, 4, 5, 6], "statist": [0, 2, 3, 6], "shape": [0, 2, 3, 5, 6], "analysi": [0, 2, 6], "workflow": [0, 2, 3, 4, 6], "imag": [0, 1, 2, 5], "dataset": [0, 2, 4, 5], "The": [0, 1, 2, 4, 5, 6], "core": [0, 2], "function": [0, 2, 4], "shapework": [0, 2, 3], "full": [0, 2], "document": [0, 1, 2], "can": [0, 1, 2, 3, 4, 5], "found": [0, 2, 5], "github": [0, 2, 3], "page": [0, 2], "sourc": [0, 2, 4, 5], "code": [0, 2, 4], "command": [0, 2, 6], "line": [0, 2, 6], "app": [0, 2, 3, 5, 6], "an": [0, 1, 2, 3, 4, 6], "autom": [0, 2, 6], "configur": [0, 2, 4, 5], "manag": [0, 2, 4, 6], "power": [0, 2], "hydra": [0, 1, 2], "log": [0, 2, 4, 5], "data": [0, 1, 2, 4, 5], "proven": [0, 2, 4], "simpl": [0, 2], "orchestr": [0, 2], "workflowmanag": [0, 2, 4, 5], "which": [0, 1, 2, 4, 5], "interfac": [0, 2, 4, 6], "ad": [0, 2, 4], "new": [0, 2, 4, 6], "task": [0, 1, 2, 3, 4, 6], "librari": [0, 2, 5], "mesh": [0, 2, 5], "preprocess": [0, 2], "To": [1, 3], "us": [1, 3, 4, 5], "first": [1, 3, 4, 5], "instal": 1, "lung": [1, 5, 6], "model": [1, 3, 6], "see": [1, 3, 6], "instruct": 1, "onc": [1, 3, 5], "initi": [1, 4, 5], "user": 1, "edit": [1, 3], "m": 1, "lung_model": [1, 3, 4, 5], "initialize_user_configur": 1, "true": [1, 4, 5], "thi": [1, 3, 4, 5], "should": [1, 4, 5], "creat": [1, 4, 5, 6], "folder": [1, 4, 5], "name": [1, 4, 5], "user_config": 1, "your": 1, "work": [1, 4, 5], "directori": [1, 4, 5], "config": [1, 4, 5], "contain": 1, "yaml": 1, "file": [1, 4, 5], "all": [1, 4, 5], "paramet": [1, 3, 4, 5], "exist": [1, 3], "detail": 1, "inform": [1, 4], "how": [1, 3], "test": [1, 4, 5], "download": 1, "unzip": 1, "tar": 1, "xf": 1, "covid_lung_segment": 1, "zip": 1, "batch": 1, "set": [1, 4], "example_workflow": 1, "bring": 1, "up": 1, "select": [1, 4, 5], "dialog": 1, "covid_lung_lobe_segment": 1, "worfkflow": 1, "requir": [1, 3], "specif": [1, 4, 5], "structur": [1, 4, 5], "follow": [1, 3], "dataset_nam": 1, "dataset_config": [1, 4, 5], "json": 1, "primari": [1, 4, 5], "subject_directory_1": 1, "subject_data": 1, "nii": 1, "deriv": [1, 4, 5], "raw_mesh": 1, "lobe_1": 1, "stl": 1, "A": [1, 4, 5], "top": 1, "level": 1, "ha": [1, 6], "sub": 1, "store": [1, 4], "separ": 1, "individu": 1, "subject": [1, 4], "gener": 1, "place": 1, "mirror": 1, "ani": 1, "number": 1, "befor": 1, "along": [1, 4], "about": 1, "must": [1, 3], "specifi": [1, 4, 5], "primary_directori": 1, "derivative_directori": 1, "directory_index_glob": 1, "directory_index": 1, "csv": 1, "data_folder_depth": [1, 4], "2": 1, "lung_image_glob": 1, "lobe_map": 1, "rul": 1, "3": 1, "rml": 1, "4": 1, "rll": 1, "5": 1, "lul": 1, "1": 1, "lll": 1, "refer": 1, "hold": 1, "glob": [1, 4, 5], "find": [1, 4, 5], "pre": [1, 4, 5], "built": 1, "index": [1, 4, 5], "between": [1, 4], "valu": 1, "indic": [1, 4], "each": [1, 4, 6], "lobe": [1, 5], "featur": 3, "you": 3, "websit": 3, "guid": 3, "do": 3, "have": 3, "activ": 3, "conda": 3, "shapwork": 3, "fresh": 3, "venv": 3, "clone": 3, "git": 3, "repositori": 3, "http": [3, 4], "com": 3, "acreegan": 3, "cd": 3, "dev": 3, "mode": 3, "pip": 3, "e": 3, "If": [3, 4, 5], "just": 3, "want": 3, "still": 3, "modifi": 3, "simpli": 3, "class": [4, 5], "smoothlunglob": 5, "properti": [4, 5], "implement": [4, 5], "match": [4, 5], "its": [4, 5], "task_config": [4, 5], "static": [4, 5], "source_directory_primari": [4, 5], "source_directory_deriv": [4, 5], "output_directori": [4, 5], "process": [4, 5], "segment": 5, "extract": 5, "label": 5, "appli": [4, 5], "antialias": 5, "path": [4, 5], "absolut": [4, 5], "save": [4, 5], "result": [4, 5], "dictconfig": [4, 5], "relat": [4, 5], "entir": [4, 5], "results_directori": 5, "subdirectori": 5, "output_filenam": 5, "dict": [4, 5], "map": 5, "from": [1, 4, 5], "output": [1, 4, 5], "filenam": [4, 5], "param": [4, 5], "maximumrmserror": 5, "numberofiter": 5, "simpleitk": 5, "antialiasbinari": 5, "return": [4, 5], "smoothed_fil": 5, "list": [4, 5], "object": [4, 5], "repres": [4, 5], "type": [4, 5], "smoothwholelung": 5, "whole": [4, 5], "umberofiter": 5, "createmesh": 5, "convert": [4, 5], "medic": 5, "smooth": 5, "source_directori": 5, "within": 5, "n_iter": 5, "feature_smooth": 5, "edge_angl": 5, "feature_angl": 5, "relaxation_factor": 5, "pyvista": 5, "target_reduct": 5, "volume_preserv": 5, "decim": 5, "hole_s": 5, "fill_hol": 5, "fix_mesh": 5, "option": [4, 5], "fix": 5, "mesh_fil": 5, "shapeworks_task": 5, "smoothlunglobessw": 5, "smoothed_lob": 5, "createmeshessw": 5, "remesh": 5, "remesh_percentag": 5, "adapt": 5, "smooth_iter": 5, "relax": 5, "fill": 5, "hole": 5, "nad": 5, "It": 6, "also": 6, "util": 6, "below": 6, "workflow_manag": [4, 5], "dataset_root": [4, 5], "show_progress": [4, 5], "when": [4, 5], "run_workflow": [4, 5], "call": [4, 5], "load": [4, 5], "gather_directori": [4, 5], "gather": [4, 5], "act": [4, 5], "root": [4, 5], "dataset_config_filenam": [4, 5], "directli": [4, 5], "insid": [4, 5], "use_directory_index": [4, 5], "build": [4, 5], "instead": [4, 5], "iter": [4, 5], "through": [4, 5], "o": [4, 5], "walk": [4, 5], "skip_dir": [4, 5], "string": [4, 5], "skip": [4, 5], "rel": [4, 5], "so": [4, 5], "slash": [4, 5], "includ": [4, 5], "depth": [4, 5], "take": [4, 5], "preced": [4, 5], "over": [4, 5], "select_dir": [4, 5], "empti": [4, 5], "valid": [4, 5], "ar": [4, 5], "onli": [4, 5], "one": [4, 5], "show": [4, 5], "progress": [4, 5], "dataloc": [4, 5], "datasetloc": [4, 5], "datasetconfig": [4, 5], "dirs_list": [4, 5], "record": [4, 5], "tupl": [4, 5], "log_workflow": [4, 5], "cfg": [4, 5], "task_nam": [4, 5], "after": [4, 5], "complet": [4, 5], "locat": [4, 5], "No": [4, 5], "current": [4, 5], "eachitemtask": 4, "item": 4, "abstract": 4, "fo": 4, "defin": 4, "done": 4, "attempt": 4, "access": 4, "outsid": 4, "becaus": 4, "parallel": 4, "rel_primari": 4, "rel_deriv": 4, "helper": 4, "sparc": 4, "exception_monitor": 4, "func": 4, "callback": 4, "logger": 4, "decor": 4, "catch": 4, "except": 4, "multiprocess": 4, "wrap": 4, "occur": 4, "loguru": 4, "need": 4, "args_unpack": 4, "unpack": 4, "argument": 4, "method": 4, "imap": 4, "apply_to_dataset": 4, "callabl": 4, "get_unique_file_nam": 4, "get": 4, "uniqu": 4, "addit": 4, "end": 4, "origin": 4, "print_result": 4, "print": 4, "mpool": 4, "none": 4, "fals": 4, "worflow": 4, "consist": 4, "collect": 4, "design": 4, "organ": 4, "doi": 4, "org": 4, "10": 4, "1101": 4, "2021": 4, "02": 4, "430563": 4, "unit": 4, "oper": 4, "tree": 4, "register_task": 4, "add": 4, "other": 4, "supporet": 4, "execut": 4, "write": 4, "most": 4, "importantli": 4, "traceabl": 4, "version": 4, "ran": 4, "regist": 4, "cannot": 4, "duplic": 4, "pass": 4, "task_list": 4, "desir": 4, "order": 4, "otherwis": 4, "thei": 4, "were": 4, "str": 4, "primary_root": 4, "index_list": 4, "construct": 4, "system": 4, "pooled_derivative_directori": 1, "pooled_deriv": 1, "two": 1, "more": 1, "sampl": 1, "combin": 1, "singl": 1, "rel_pooled_deriv": 4, "allitemstask": 4, "referenceselectionmesh": 5, "closest": 5, "mean": 5, "antialia": 5, "smoothwholelungssw": 5, "referenceselectionmeshsw": 5}, "objects": {"lung_modelling.app": [[5, 0, 0, "-", "shapeworks_tasks"], [5, 0, 0, "-", "tasks"]], "lung_modelling.app.shapeworks_tasks": [[5, 1, 1, "", "CreateMeshesSW"], [5, 1, 1, "", "ReferenceSelectionMeshSW"], [5, 1, 1, "", "SmoothLungLobesSW"], [5, 1, 1, "", "SmoothWholeLungsSW"]], "lung_modelling.app.shapeworks_tasks.CreateMeshesSW": [[5, 2, 1, "", "name"], [5, 3, 1, "", "work"]], "lung_modelling.app.shapeworks_tasks.ReferenceSelectionMeshSW": [[5, 2, 1, "", "name"], [5, 3, 1, "", "work"]], "lung_modelling.app.shapeworks_tasks.SmoothLungLobesSW": [[5, 2, 1, "", "name"], [5, 3, 1, "", "work"]], "lung_modelling.app.shapeworks_tasks.SmoothWholeLungsSW": [[5, 2, 1, "", "name"], [5, 3, 1, "", "work"]], "lung_modelling.app.tasks": [[5, 1, 1, "", "CreateMeshes"], [5, 1, 1, "", "ReferenceSelectionMesh"], [5, 1, 1, "", "SmoothLungLobes"], [5, 1, 1, "", "SmoothWholeLungs"]], "lung_modelling.app.tasks.CreateMeshes": [[5, 2, 1, "", "name"], [5, 3, 1, "", "work"]], "lung_modelling.app.tasks.ReferenceSelectionMesh": [[5, 2, 1, "", "name"], [5, 3, 1, "", "work"]], "lung_modelling.app.tasks.SmoothLungLobes": [[5, 2, 1, "", "name"], [5, 3, 1, "", "work"]], "lung_modelling.app.tasks.SmoothWholeLungs": [[5, 2, 1, "", "name"], [5, 3, 1, "", "work"]], "lung_modelling": [[4, 0, 0, "-", "workflow_manager"]], "lung_modelling.workflow_manager": [[4, 1, 1, "", "DatasetLocator"], [4, 1, 1, "", "EachItemTask"], [4, 1, 1, "", "WorkflowManager"], [4, 4, 1, "", "apply_to_dataset"], [4, 4, 1, "", "args_unpacker"], [4, 4, 1, "", "exception_monitor"], [4, 4, 1, "", "gather_directories"], [4, 4, 1, "", "get_unique_file_name"], [4, 4, 1, "", "initialize"], [4, 4, 1, "", "log_workflow"], [4, 4, 1, "", "print_results"]], "lung_modelling.workflow_manager.EachItemTask": [[4, 2, 1, "", "name"], [4, 3, 1, "", "work"]], "lung_modelling.workflow_manager.WorkflowManager": [[4, 3, 1, "", "register_task"], [4, 3, 1, "", "run_workflow"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:property", "3": "py:method", "4": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "property", "Python property"], "3": ["py", "method", "Python method"], "4": ["py", "function", "Python function"]}, "titleterms": {"lung": [0, 2], "model": [0, 2], "featur": [0, 2], "workflow": [1, 5, 7], "app": 1, "usag": 1, "setup": 1, "run": 1, "exampl": 1, "dataset": 1, "configur": 1, "instal": 3, "develop": 3, "environ": 3, "user": [3, 6], "modul": 4, "refer": [4, 5], "task": 5, "standard": 5, "shapework": 5, "guid": 6, "manag": [5, 7]}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "sphinx": 60}, "alltitles": {"Lung Modelling": [[0, "lung-modelling"], [2, "lung-modelling"]], "Features": [[0, "features"], [2, "features"]], "Installation": [[3, "installation"]], "Developer Environment": [[3, "developer-environment"]], "User Installation": [[3, "user-installation"]], "User Guide": [[6, "user-guide"]], "Workflow Manager": [[7, "workflow-manager"]], "Workflow App": [[1, "workflow-app"]], "App Usage": [[1, "app-usage"]], "Setup": [[1, "setup"]], "Running Example Workflow": [[1, "running-example-workflow"]], "Dataset Configuration": [[1, "dataset-configuration"]], "Module Reference": [[4, "module-lung_modelling.workflow_manager"]], "Task Reference": [[5, "task-reference"]], "Workflow Manager Tasks": [[5, "workflow-manager-tasks"]], "Standard Tasks": [[5, "module-lung_modelling.app.tasks"]], "Shapeworks Tasks": [[5, "module-lung_modelling.app.shapeworks_tasks"]]}, "indexentries": {"datasetlocator (class in lung_modelling.workflow_manager)": [[4, "lung_modelling.workflow_manager.DatasetLocator"]], "eachitemtask (class in lung_modelling.workflow_manager)": [[4, "lung_modelling.workflow_manager.EachItemTask"]], "workflowmanager (class in lung_modelling.workflow_manager)": [[4, "lung_modelling.workflow_manager.WorkflowManager"]], "apply_to_dataset() (in module lung_modelling.workflow_manager)": [[4, "lung_modelling.workflow_manager.apply_to_dataset"]], "args_unpacker() (in module lung_modelling.workflow_manager)": [[4, "lung_modelling.workflow_manager.args_unpacker"]], "exception_monitor() (in module lung_modelling.workflow_manager)": [[4, "lung_modelling.workflow_manager.exception_monitor"]], "gather_directories() (in module lung_modelling.workflow_manager)": [[4, "lung_modelling.workflow_manager.gather_directories"]], "get_unique_file_name() (in module lung_modelling.workflow_manager)": [[4, "lung_modelling.workflow_manager.get_unique_file_name"]], "initialize() (in module lung_modelling.workflow_manager)": [[4, "lung_modelling.workflow_manager.initialize"]], "log_workflow() (in module lung_modelling.workflow_manager)": [[4, "lung_modelling.workflow_manager.log_workflow"]], "lung_modelling.workflow_manager": [[4, "module-lung_modelling.workflow_manager"]], "module": [[4, "module-lung_modelling.workflow_manager"], [5, "module-lung_modelling.app.shapeworks_tasks"], [5, "module-lung_modelling.app.tasks"]], "name (lung_modelling.workflow_manager.eachitemtask property)": [[4, "lung_modelling.workflow_manager.EachItemTask.name"]], "print_results() (in module lung_modelling.workflow_manager)": [[4, "lung_modelling.workflow_manager.print_results"]], "register_task() (lung_modelling.workflow_manager.workflowmanager method)": [[4, "lung_modelling.workflow_manager.WorkflowManager.register_task"]], "run_workflow() (lung_modelling.workflow_manager.workflowmanager method)": [[4, "lung_modelling.workflow_manager.WorkflowManager.run_workflow"]], "work() (lung_modelling.workflow_manager.eachitemtask static method)": [[4, "lung_modelling.workflow_manager.EachItemTask.work"]], "createmeshes (class in lung_modelling.app.tasks)": [[5, "lung_modelling.app.tasks.CreateMeshes"]], "createmeshessw (class in lung_modelling.app.shapeworks_tasks)": [[5, "lung_modelling.app.shapeworks_tasks.CreateMeshesSW"]], "referenceselectionmesh (class in lung_modelling.app.tasks)": [[5, "lung_modelling.app.tasks.ReferenceSelectionMesh"]], "referenceselectionmeshsw (class in lung_modelling.app.shapeworks_tasks)": [[5, "lung_modelling.app.shapeworks_tasks.ReferenceSelectionMeshSW"]], "smoothlunglobes (class in lung_modelling.app.tasks)": [[5, "lung_modelling.app.tasks.SmoothLungLobes"]], "smoothlunglobessw (class in lung_modelling.app.shapeworks_tasks)": [[5, "lung_modelling.app.shapeworks_tasks.SmoothLungLobesSW"]], "smoothwholelungs (class in lung_modelling.app.tasks)": [[5, "lung_modelling.app.tasks.SmoothWholeLungs"]], "smoothwholelungssw (class in lung_modelling.app.shapeworks_tasks)": [[5, "lung_modelling.app.shapeworks_tasks.SmoothWholeLungsSW"]], "lung_modelling.app.shapeworks_tasks": [[5, "module-lung_modelling.app.shapeworks_tasks"]], "lung_modelling.app.tasks": [[5, "module-lung_modelling.app.tasks"]], "name (lung_modelling.app.shapeworks_tasks.createmeshessw property)": [[5, "lung_modelling.app.shapeworks_tasks.CreateMeshesSW.name"]], "name (lung_modelling.app.shapeworks_tasks.referenceselectionmeshsw property)": [[5, "lung_modelling.app.shapeworks_tasks.ReferenceSelectionMeshSW.name"]], "name (lung_modelling.app.shapeworks_tasks.smoothlunglobessw property)": [[5, "lung_modelling.app.shapeworks_tasks.SmoothLungLobesSW.name"]], "name (lung_modelling.app.shapeworks_tasks.smoothwholelungssw property)": [[5, "lung_modelling.app.shapeworks_tasks.SmoothWholeLungsSW.name"]], "name (lung_modelling.app.tasks.createmeshes property)": [[5, "lung_modelling.app.tasks.CreateMeshes.name"]], "name (lung_modelling.app.tasks.referenceselectionmesh property)": [[5, "lung_modelling.app.tasks.ReferenceSelectionMesh.name"]], "name (lung_modelling.app.tasks.smoothlunglobes property)": [[5, "lung_modelling.app.tasks.SmoothLungLobes.name"]], "name (lung_modelling.app.tasks.smoothwholelungs property)": [[5, "lung_modelling.app.tasks.SmoothWholeLungs.name"]], "work() (lung_modelling.app.shapeworks_tasks.createmeshessw static method)": [[5, "lung_modelling.app.shapeworks_tasks.CreateMeshesSW.work"]], "work() (lung_modelling.app.shapeworks_tasks.referenceselectionmeshsw static method)": [[5, "lung_modelling.app.shapeworks_tasks.ReferenceSelectionMeshSW.work"]], "work() (lung_modelling.app.shapeworks_tasks.smoothlunglobessw static method)": [[5, "lung_modelling.app.shapeworks_tasks.SmoothLungLobesSW.work"]], "work() (lung_modelling.app.shapeworks_tasks.smoothwholelungssw static method)": [[5, "lung_modelling.app.shapeworks_tasks.SmoothWholeLungsSW.work"]], "work() (lung_modelling.app.tasks.createmeshes static method)": [[5, "lung_modelling.app.tasks.CreateMeshes.work"]], "work() (lung_modelling.app.tasks.referenceselectionmesh static method)": [[5, "lung_modelling.app.tasks.ReferenceSelectionMesh.work"]], "work() (lung_modelling.app.tasks.smoothlunglobes static method)": [[5, "lung_modelling.app.tasks.SmoothLungLobes.work"]], "work() (lung_modelling.app.tasks.smoothwholelungs static method)": [[5, "lung_modelling.app.tasks.SmoothWholeLungs.work"]]}})